@page "/Videos/Details/{id}"

@inject IVideoRepositoryAsync repository
@inject IJSRuntime js

<h3>Details</h3>


<from>
    <div class="row">
        <div class="col-md-8">
            <div class="form-group">
                <label>ID</label><br />
                @video.Id
                <hr />
            </div>
            <div class="form-group">
                <label>TITLE</label><br />
                @video.Title
                <hr />
            </div>
            <div class="form-group">
                <label>URL</label><br />
                @video.Url
                <hr />
            </div>
            <div class="form-group">
                <label>NAME</label><br />
                @video.Name
                <hr />
            </div>
            <div class="form-group">
                <label>CREATED</label><br />
                @video.Created
                <hr />
            </div>
            <div>
                <a href="/Videos/Edit/@video.Id">Edit</a>
                <a href="/Videos/Delete/@video.Id">Delete</a>
                <a href="/Videos/">List</a>
            </div>
        </div>
    </div>
</from>

@code {
    Video video = new Video();
    int id = 0;

    [Parameter]
    public string Id { get; set; }

    protected override async Task OnInitializedAsync()
    {
        id = int.Parse(Id);

        video = await repository.GetVideoByIdAsync(id);
    }

    // protected override async Task OnAfterRenderAsync(bool firstRender)
    // {
    //     await InvokeAsync(StateHasChanged);
    // }

}
